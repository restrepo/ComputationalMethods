
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pandas &#8212; Computational Methods</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Matplotlib" href="matplotlib.html" />
    <link rel="prev" title="Scientific Libraries with Python" href="scientific-libraries.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Computational Methods</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Computational Methods for Physics & Astronomy
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="overview-python.html">
   1. Python Overview
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="computer-arithmetics.html">
   2. Computer Arithmetics and Round-off Methods
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="one-variable-equations.html">
   3. One Variable Equations
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="interpolation.html">
   4. Interpolation Methods
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="numerical-calculus.html">
   5. Numerical Calculus
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="linear-algebra.html">
   6. Linear Algebra
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="differential-equations.html">
   Differential Equations
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="statistics.html">
   7. Statistics
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Intro_clases.html">
   8. Clases
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scientific-libraries.html">
   Scientific Libraries with Python
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Pandas
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="matplotlib.html">
   Matplotlib
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ipython-notebooks.html">
   Notebooks
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="linear-algebra-diagonalization.html">
   Matrix diagonalization
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/restrepo/ComputationalMethods/master?urlpath=tree/docs/material/Pandas.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/restrepo/ComputationalMethods"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/restrepo/ComputationalMethods/issues/new?title=Issue%20on%20page%20%2Fmaterial/Pandas.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/material/Pandas.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#standard-way-to-load-the-module">
   Standard way to load the module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-structure-dataframe">
   Basic structure: DataFrame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-structures">
   Data structures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataframe">
     <code class="docutils literal notranslate">
      <span class="pre">
       DataFrame
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#export-dataframe-to-other-formats">
       Export DataFrame to other formats
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#series">
     <code class="docutils literal notranslate">
      <span class="pre">
       Series
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#official-definition-of-pandas">
     Official definition of Pandas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#more-on-series">
     More on
     <code class="docutils literal notranslate">
      <span class="pre">
       Series
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataframe-initialization">
   <code class="docutils literal notranslate">
    <span class="pre">
     DataFrame
    </span>
   </code>
   initialization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initization-from-an-existing-spreadsheet">
     Initization from an existing spreadsheet.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intialization-from-lists-and-dictionaries">
     Intialization from lists and dictionaries
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#inizialization-from-series">
       Inizialization from Series
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#column-oriented-way">
       Column oriented way
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialization-from-sequential-rows-as-series">
     Initialization from sequential rows as  Series
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#exercises">
       Exercises
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#common-operations-upon-dataframes">
     Common operations upon
     <code class="docutils literal notranslate">
      <span class="pre">
       DataFrames
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-formats-to-saving-and-read-files">
   Other formats to saving and read files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#csv">
     CSV
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#json">
     JSON
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#filters-masking">
   Filters (masking)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-apply-method">
   The
   <code class="docutils literal notranslate">
    <span class="pre">
     apply
    </span>
   </code>
   method
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#column-level-apply">
     Column-level
     <code class="docutils literal notranslate">
      <span class="pre">
       apply
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#row-level-apply">
     Row-level apply
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chain-tools-for-data-analysis">
   Chain tools for data analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#relational-databases">
   Relational databases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity">
     Activity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-relational-databases">
   Non-relational databases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#actividad">
     Actividad
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#world-wide-web">
   World wide web
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#normal-web">
     Normal web
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#machine-web">
     Machine web
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#activities">
   ACTIVITIES
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#final-remarks">
   Final remarks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix">
   Appendix
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pandas</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#standard-way-to-load-the-module">
   Standard way to load the module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-structure-dataframe">
   Basic structure: DataFrame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-structures">
   Data structures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataframe">
     <code class="docutils literal notranslate">
      <span class="pre">
       DataFrame
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#export-dataframe-to-other-formats">
       Export DataFrame to other formats
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#series">
     <code class="docutils literal notranslate">
      <span class="pre">
       Series
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#official-definition-of-pandas">
     Official definition of Pandas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#more-on-series">
     More on
     <code class="docutils literal notranslate">
      <span class="pre">
       Series
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataframe-initialization">
   <code class="docutils literal notranslate">
    <span class="pre">
     DataFrame
    </span>
   </code>
   initialization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initization-from-an-existing-spreadsheet">
     Initization from an existing spreadsheet.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intialization-from-lists-and-dictionaries">
     Intialization from lists and dictionaries
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#inizialization-from-series">
       Inizialization from Series
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#column-oriented-way">
       Column oriented way
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialization-from-sequential-rows-as-series">
     Initialization from sequential rows as  Series
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#exercises">
       Exercises
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#common-operations-upon-dataframes">
     Common operations upon
     <code class="docutils literal notranslate">
      <span class="pre">
       DataFrames
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-formats-to-saving-and-read-files">
   Other formats to saving and read files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#csv">
     CSV
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#json">
     JSON
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#filters-masking">
   Filters (masking)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-apply-method">
   The
   <code class="docutils literal notranslate">
    <span class="pre">
     apply
    </span>
   </code>
   method
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#column-level-apply">
     Column-level
     <code class="docutils literal notranslate">
      <span class="pre">
       apply
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#row-level-apply">
     Row-level apply
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chain-tools-for-data-analysis">
   Chain tools for data analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#relational-databases">
   Relational databases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity">
     Activity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-relational-databases">
   Non-relational databases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#actividad">
     Actividad
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#world-wide-web">
   World wide web
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#normal-web">
     Normal web
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#machine-web">
     Machine web
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#activities">
   ACTIVITIES
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#final-remarks">
   Final remarks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix">
   Appendix
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <p><a href="https://colab.research.google.com/github/restrepo/ComputationalMethods/blob/master/material/Pandas.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<section class="tex2jax_ignore mathjax_ignore" id="pandas">
<h1>Pandas<a class="headerlink" href="#pandas" title="Permalink to this headline">#</a></h1>
<p>From http://pandas.pydata.org/pandas-docs/stable/</p>
<p>pandas is a Python package providing fast, flexible, and expressive data structures designed to make working with “relational” or “labeled” data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real world data analysis in Python. Additionally, it has the broader goal of becoming the most powerful and flexible open source data analysis / manipulation tool available in any language. It is already well on its way toward this goal.</p>
<p>See also:</p>
<ul class="simple">
<li><p>https://github.com/restrepo/data-analysis</p>
<ul>
<li><p>https://classroom.github.com/g/sSMBdBqN</p></li>
<li><p>https://classroom.github.com/a/PcbQBE7F</p></li>
</ul>
</li>
<li><p>https://github.com/restrepo/PythonTipsAndTricks</p></li>
<li><p>https://pbpython.com/excel-pandas-comp.html [<a class="reference external" href="https://web.archive.org/web/20201126143453/https://pbpython.com/excel-pandas-comp.html">archive.org</a>]</p></li>
</ul>
<p>Good and practice books about <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> possibilities are:</p>
<p><a class="reference external" href="https://drive.google.com/open?id=0BxoOXsn2EUNIWExXbVc4SDN0YTQ"><strong>Python for Data Analysis</strong></a><br/>
Data Wrangling with Pandas, NumPy, and IPython<br/>
<em>By William McKinney</em></p>
<p>This other is about aplications based on <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>:
<img alt="image.png" src="https://covers.oreillystatic.com/images/0636920030515/cat.gif" /> <a class="reference external" href="https://drive.google.com/open?id=0BxoOXsn2EUNISGhrdEZ3S29fS3M">Introduction to Machine Learning with Python</a><br/>
A Guide for Data Scientists
By Sarah Guido, Andreas Müller</p>
<p><a class="reference external" href="https://drive.google.com/drive/u/0/folders/0BxoOXsn2EUNIUFFUWUkxd0JSVFk?resourcekey=0-Eo6AxHgut_mZ1-M3vD10oQ">Python Books</a></p>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> can be used in a similar way to <code class="docutils literal notranslate"><span class="pre">R</span></code>, which is based on similar data structures. <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> also can replace the use of graphical interfaces to access spreadsheets like Excel. In particular, can be used in joint with the module <a class="reference external" href="https://xlsxwriter.readthedocs.io/tutorial02.html"><code class="docutils literal notranslate"><span class="pre">xlsxwriter</span></code></a> to produce professional Excel spreadsheets at the programatical level.</p>
<p>The similar data structure in Wolfram Alpha and Mathematica is  the <code class="docutils literal notranslate"><span class="pre">Dataset</span></code>, in C++ is the ROOT framework, and in the old Fortran 77 was <code class="docutils literal notranslate"><span class="pre">paw</span></code>. In this way, a dictionary of equivalent commands can be stablished between the several frameworks</p>
<section id="standard-way-to-load-the-module">
<h2>Standard way to load the module<a class="headerlink" href="#standard-way-to-load-the-module" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="basic-structure-dataframe">
<h2>Basic structure: DataFrame<a class="headerlink" href="#basic-structure-dataframe" title="Permalink to this headline">#</a></h2>
<p>An flat <em>spreadsheet</em> can be seen in terms of the types of variables of <code class="docutils literal notranslate"><span class="pre">Python</span></code> just as dictionary of lists, where each column of the spreadsheet is a pair key-list of the dictionary</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="text-align:center head"><p>A</p></th>
<th class="text-align:center head"><p>B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td class="text-align:center"><p>even</p></td>
<td class="text-align:center"><p>odd</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td class="text-align:center"><p>2</p></td>
<td class="text-align:center"><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td class="text-align:center"><p>4</p></td>
<td class="text-align:center"><p>5</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td class="text-align:center"><p>6</p></td>
<td class="text-align:center"><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td class="text-align:center"><p>8</p></td>
<td class="text-align:center"><p>9</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;even&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>   <span class="c1">#  First  key-list</span>
         <span class="s2">&quot;odd&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="p">}</span>  <span class="c1">#  Second key-list</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-structures">
<h2>Data structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> has two new data structures:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> which are similar to numpy arrays but with some assigned key. For example, for the previous case</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> 
         <span class="p">])</span>
</pre></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> which are enriched  to dictionaries, as the ones defined for the rows of the previous example: <code class="docutils literal notranslate"><span class="pre">{'even':0,'odd':1}</span></code>.</p></li>
</ol>
<p>The rows in a two-dimensional <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> corresponds to <code class="docutils literal notranslate"><span class="pre">Series</span></code> with similar keys, while the columns are also Series with the indices as keys.</p>
<p>An example of a  <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> is a spreadsheet, as the one before.</p>
<section id="dataframe">
<h3><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code><a class="headerlink" href="#dataframe" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> can convert a dictionary of lists, like the <code class="docutils literal notranslate"><span class="pre">numbers</span></code> dictionary before, into a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, which is just an spreadsheet but interpreted at the programming level:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;even&#39;: [0, 2, 4, 6, 8], &#39;odd&#39;: [1, 3, 5, 7, 9]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">],</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;odd&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f7d7a779880&gt;]
</pre></div>
</div>
<img alt="../_images/Pandas_16_1.png" src="../_images/Pandas_16_1.png" />
</div>
</div>
<p>See below for other possibilities of <a class="reference external" href="https://fisica.udea.edu.co:4443/user/restrepo/notebooks/prog/cursos/data-analysis/Pandas.ipynb#Intialization-from-lists-and-dictionaries">creating Pandas DataFrames from lists and dictionaries</a></p>
<p>The main advantage of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">df</span></code>, is that it can be managed without a graphical interface.</p>
<p>We can check the shape of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5, 2)
</pre></div>
</div>
</div>
</div>
<section id="export-dataframe-to-other-formats">
<h4>Export DataFrame to other formats<a class="headerlink" href="#export-dataframe-to-other-formats" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>To export to excel:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;example.xlsx&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newdf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;example.xlsx&#39;</span><span class="p">)</span>
<span class="n">newdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newdf</span><span class="p">[</span><span class="s1">&#39;fractions&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="mf">6.5</span><span class="p">,</span><span class="mf">8.5</span><span class="p">]</span>
<span class="n">newdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
      <th>fractions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
      <td>2.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>5</td>
      <td>4.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>7</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
      <td>8.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newdf</span><span class="p">[</span><span class="s1">&#39;next fractions&#39;</span><span class="p">]</span><span class="o">=</span><span class="mf">1.5</span>
<span class="n">newdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
      <th>fractions</th>
      <th>next fractions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0.5</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
      <td>2.5</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>5</td>
      <td>4.5</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>7</td>
      <td>6.5</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
      <td>8.5</td>
      <td>1.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;next to next fractions&#39;</span><span class="p">]</span><span class="o">=</span><span class="mf">1.7</span>
<span class="n">newdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
      <th>fractions</th>
      <th>next fractions</th>
      <th>(3, next to next fractions)</th>
      <th>next to next fractions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0.5</td>
      <td>1.5</td>
      <td>1.7</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
      <td>2.5</td>
      <td>1.5</td>
      <td>1.7</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>5</td>
      <td>4.5</td>
      <td>1.5</td>
      <td>1.7</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>7</td>
      <td>6.5</td>
      <td>1.5</td>
      <td>1.7</td>
      <td>1.7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
      <td>8.5</td>
      <td>1.5</td>
      <td>1.7</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Activity</strong>: Open the resulting spreadsheet in Google Drive, publish it and open from the resulting link with Pandas in the next cell</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;PASTE THE PUBLISHED LINK HERE&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/e/2PACX-1vQ1HFwErJcHkkOCT4Je-yuLSRe2L_GKWcCGVooc6rbOvTLxJhqglTZh31I_eB_dcw/pub?output=xlsx&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6.0</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8.0</td>
      <td>9.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="series">
<h3><code class="docutils literal notranslate"><span class="pre">Series</span></code><a class="headerlink" href="#series" title="Permalink to this headline">#</a></h3>
<p>Each column of the DataFrame is now an augmented dictionary called <code class="docutils literal notranslate"><span class="pre">Series</span></code>, with the indices as the keys of the <code class="docutils literal notranslate"><span class="pre">Series</span></code></p>
<p>A <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> <code class="docutils literal notranslate"><span class="pre">Series</span></code> object can be just initialized from a <code class="docutils literal notranslate"><span class="pre">Python</span></code> dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>The keys are the index of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#df[&#39;even&#39;]</span>
<span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p>Each row is also a series</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>even    0
odd     1
Name: 0, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>with keys: <code class="docutils literal notranslate"><span class="pre">'even'</span></code> and <code class="docutils literal notranslate"><span class="pre">'odd'</span></code></p>
<p>or as a filter</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">4</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;even&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>or attributes <code class="docutils literal notranslate"><span class="pre">even</span></code> and <code class="docutils literal notranslate"><span class="pre">odd</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">odd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>One specific cell value can be reached with the index and the key:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;odd&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;even&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>The <strong>power</strong> of Pandas rely in that their main data structures: <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code> and <code class="docutils literal notranslate"><span class="pre">Series</span></code>, are enriched with many useful methods and attributes.</p>
</div></blockquote>
</section>
<section id="official-definition-of-pandas">
<h3><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/">Official definition of Pandas</a><a class="headerlink" href="#official-definition-of-pandas" title="Permalink to this headline">#</a></h3>
<blockquote>
<div><p>Pandas is a Python package providing <strong>fast</strong>, <strong>flexible</strong>, and <strong>expressive</strong> <em>data structures</em> designed to make working with “relational” or “labeled” data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real world data analysis in Python. Additionally, it <em>has the broader goal of becoming the most powerful and flexible open source data analysis / manipulation tool</em> available in any language. It is already well on its way toward this goal.</p>
</div></blockquote>
<ul class="simple">
<li><p>“relational”: the list of data is identified with some unique index (like a <code class="docutils literal notranslate"><span class="pre">SQL</span></code> table)</p></li>
<li><p>“labeled”: the list is identified with a key, like the previous <code class="docutils literal notranslate"><span class="pre">odd</span></code> or <code class="docutils literal notranslate"><span class="pre">even</span></code> keys.</p></li>
</ul>
<p>For example. A double bracket <code class="docutils literal notranslate"><span class="pre">[[...]]</span></code>, can be used to filter data.</p>
<p>A row in a two-dimensional <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> corresponds to <code class="docutils literal notranslate"><span class="pre">Series</span></code> with the same keys of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, but with single values instead of a list</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To filter a column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;odd&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="more-on-series">
<h3>More on <code class="docutils literal notranslate"><span class="pre">Series</span></code><a class="headerlink" href="#more-on-series" title="Permalink to this headline">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> <code class="docutils literal notranslate"><span class="pre">Series</span></code> object can be just initialized from a <code class="docutils literal notranslate"><span class="pre">Python</span></code> dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="s1">&#39;Juan Valdez&#39;</span><span class="p">,</span><span class="s1">&#39;Nacionality&#39;</span><span class="p">:</span><span class="s1">&#39;Colombia&#39;</span><span class="p">,</span><span class="s1">&#39;Age&#39;</span><span class="p">:</span><span class="mi">23</span><span class="p">})</span>
<span class="n">s</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Name           Juan Valdez
Nacionality       Colombia
Age                     23
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Juan Valdez&#39;
</pre></div>
</div>
</div>
</div>
<p>but also as containers of name spaces!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">Name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Juan Valdez&#39;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="dataframe-initialization">
<h2><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> initialization<a class="headerlink" href="#dataframe-initialization" title="Permalink to this headline">#</a></h2>
<section id="initization-from-an-existing-spreadsheet">
<h3>Initization from an existing spreadsheet.<a class="headerlink" href="#initization-from-an-existing-spreadsheet" title="Permalink to this headline">#</a></h3>
<p>This can be locally in your computer o from some downloadable  link</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;http://bit.ly/spreadsheet_xlsx&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>23.0</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65.0</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To make a downloadable link for any spread sheet in Google Drive, follow the sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>File → Publish to the web...→ Entire Document → Web page → Microsoft excel (xlsx)
</pre></div>
</div>
<p>as illustrated in the figure:
<img alt="GS" src="https://github.com/restrepo/data-analysis/blob/master/img/img1.png?raw=1" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;Edad&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">32</span>
<span class="c1">#df.at[0,&#39;Edad&#39;]=32</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>32.0</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65.0</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em>After</em> some modification</p>
<p>it can be saved again as an <code class="docutils literal notranslate"><span class="pre">excel</span> <span class="pre">file</span></code> with the option to not create a column of indices: <code class="docutils literal notranslate"><span class="pre">index=False</span></code></p>
</section>
<section id="intialization-from-lists-and-dictionaries">
<h3>Intialization from lists and dictionaries<a class="headerlink" href="#intialization-from-lists-and-dictionaries" title="Permalink to this headline">#</a></h3>
<section id="inizialization-from-series">
<h4>Inizialization from Series<a class="headerlink" href="#inizialization-from-series" title="Permalink to this headline">#</a></h4>
<p>We start with an empty <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>:</p>
<p>Creating Pandas DataFrame from list and dictionaries <a class="reference external" href="http://pbpython.com/pandas-list-dict.html">offers many alternatives</a></p>
<p><img alt="creating dataframes" src="http://pbpython.com/images/pandas-dataframe-shadow.png" /></p>
</section>
<section id="column-oriented-way">
<h4>Column oriented way<a class="headerlink" href="#column-oriented-way" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>In addition to the dictionary of lists <span class="xref myst">already illustrated at the beginning</span> that in this case corresponds to:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Nombre&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Juan Valdez&#39;</span><span class="p">,</span><span class="s1">&#39;Álvaro Uribe Vélez&#39;</span><span class="p">],</span>
              <span class="s1">&#39;Edad&#39;</span>     <span class="p">:</span> <span class="p">[</span><span class="mi">32</span><span class="p">,</span>            <span class="mi">69</span>                 <span class="p">],</span>
              <span class="s1">&#39;Compañia&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Café de Colombia&#39;</span><span class="p">,</span><span class="s1">&#39;Senado de la República&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>32</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>69</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>We can obtain the DataFrame from list of items</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_items</span><span class="p">([</span> <span class="p">[</span> <span class="s1">&#39;Nombre&#39;</span>  <span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Juan Valdez&#39;</span><span class="p">,</span><span class="s1">&#39;Álvaro Uribe Vélez&#39;</span><span class="p">]],</span>
                          <span class="p">[</span> <span class="s1">&#39;Edad&#39;</span>    <span class="p">,</span> <span class="p">[</span>  <span class="mi">32</span><span class="p">,</span>            <span class="mi">65</span>               <span class="p">]],</span>
                          <span class="p">[</span> <span class="s1">&#39;Compañia&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Café de Colombia&#39;</span><span class="p">,</span><span class="s1">&#39;Senado de la República&#39;</span><span class="p">]]</span> <span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>We can obtain the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> from dictionary</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="p">[{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span><span class="s1">&#39;Juan Valdez&#39;</span><span class="p">,</span>        <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">32</span>   <span class="p">,</span><span class="s1">&#39;Compañia&#39;</span><span class="p">:</span><span class="s1">&#39;Café de Colombia&#39;</span>      <span class="p">},</span>
              <span class="p">{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span><span class="s1">&#39;Álvaro Uribe Vélez&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">65</span>   <span class="p">,</span><span class="s1">&#39;Compañia&#39;</span><span class="p">:</span><span class="s1">&#39;Senado de la República&#39;</span><span class="p">}]</span>
            <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>32</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">empty</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="initialization-from-sequential-rows-as-series">
<h3>Initialization from sequential rows as  Series<a class="headerlink" href="#initialization-from-sequential-rows-as-series" title="Permalink to this headline">#</a></h3>
<p>We start with an empty <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">empty</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>We can append a dictionary (or Series) as a row of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, provided that we always use the option: <code class="docutils literal notranslate"><span class="pre">ignore_index=True</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="s1">&#39;Juan Valdez&#39;</span><span class="p">,</span><span class="s1">&#39;Nacionality&#39;</span><span class="p">:</span><span class="s1">&#39;Colombia&#39;</span><span class="p">,</span><span class="s1">&#39;Age&#39;</span><span class="p">:</span><span class="mi">23</span><span class="p">}</span>
<span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_10365/593603890.py:2: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
  df=df.append(d,ignore_index=True)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Nacionality</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>Colombia</td>
      <td>23</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can fix the type of data of the <code class="docutils literal notranslate"><span class="pre">'Age'</span></code> column</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Edad</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Edad&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Edad</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>23</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To add a second file we build another <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Nacionality&#39;</span><span class="p">,</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span><span class="s1">&#39;Company&#39;</span><span class="p">]:</span>
    <span class="n">var</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">var</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Name:
 Diego Restrepo
Nacionality:
 Colombia
Age:
 51
Company:
 UdeA
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Name&#39;: &#39;Diego Restrepo&#39;,
 &#39;Nacionality&#39;: &#39;Colombia&#39;,
 &#39;Age&#39;: &#39;51&#39;,
 &#39;Company&#39;: &#39;UdeA&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_10365/1294992754.py:1: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
  df=df.append(d,ignore_index=True)
</pre></div>
</div>
</div>
</div>
<section id="exercises">
<h4>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>Display the resulting <code class="docutils literal notranslate"><span class="pre">Series</span></code> in the screen:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       Juan Valdez
1    Diego Restrepo
Name: Name, dtype: object
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Append to the previous <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> and visualize it:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Nacionality</th>
      <th>Name</th>
      <th>Company</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>23</td>
      <td>Colombia</td>
      <td>Juan Valdez</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>33</td>
      <td>Portugal</td>
      <td>Diego Restrepo</td>
      <td>Google</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>Fill NaN with empty strings</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Nacionality</th>
      <th>Age</th>
      <th>Company</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>Colombia</td>
      <td>23</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>Diego Restrepo</td>
      <td>Colombia</td>
      <td>51</td>
      <td>UdeA</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>Save <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as an Excel file</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;prof.xlsx&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Load pandas DataFrame from the saved file in Excel</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;prof.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Nacionality</th>
      <th>Age</th>
      <th>Company</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>Colombia</td>
      <td>23</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Diego Restrepo</td>
      <td>Colombia</td>
      <td>51</td>
      <td>UdeA</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="common-operations-upon-dataframes">
<h3>Common operations upon <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code><a class="headerlink" href="#common-operations-upon-dataframes" title="Permalink to this headline">#</a></h3>
<p>See https://github.com/restrepo/PythonTipsAndTricks</p>
<ul class="simple">
<li><p><strong>To fill a specific cell</strong></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;Company&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;Federación de Caferos&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Nacionality</th>
      <th>Age</th>
      <th>Company</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>Colombia</td>
      <td>23</td>
      <td>Federación de Caferos</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Diego Restrepo</td>
      <td>Colombia</td>
      <td>51</td>
      <td>UdeA</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="other-formats-to-saving-and-read-files">
<h2>Other formats to saving and read files<a class="headerlink" href="#other-formats-to-saving-and-read-files" title="Permalink to this headline">#</a></h2>
<p>We are interested in format which keeps the tags of the columns, like <code class="docutils literal notranslate"><span class="pre">'Nombre',</span> <span class="pre">'Edad',</span> <span class="pre">'Compañia'</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;http://bit.ly/spreadsheet_xlsx&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>23.0</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65.0</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;Edad&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.float64
</pre></div>
</div>
</div>
</div>
<section id="csv">
<h3>CSV<a class="headerlink" href="#csv" title="Permalink to this headline">#</a></h3>
<p>Comma separated values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hoja.csv&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">hoja</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nombre,Edad,Compañia
Juan Valdez,23.0,Café de Colombia
Álvaro Uribe Vélez,65.0,Senado de la República
</pre></div>
</div>
</div>
</div>
<p>We can check the explicit file format with</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nombre,Edad,Compañia
Juan Valdez,23.0,Café de Colombia
Álvaro Uribe Vélez,65.0,Senado de la República
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hoja.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Compañia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>23.0</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>65.0</td>
      <td>Senado de la República</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="json">
<h3>JSON<a class="headerlink" href="#json" title="Permalink to this headline">#</a></h3>
<p>This format keeps the Python lists and dictionaries at the storage level</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Donald Trump&quot;</span><span class="p">,</span><span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">74</span><span class="p">},</span>
                 <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Barak Obama&quot;</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">59</span><span class="p">}])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump</td>
      <td>74</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama</td>
      <td>59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This format allow us to keep exactly the very same list of dictionaries structure!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74},{&quot;Name&quot;:&quot;Barak Obama&quot;,&quot;Age&quot;:59}]
</pre></div>
</div>
</div>
</div>
<p><strong>Activity</strong>:</p>
<ul class="simple">
<li><p>Save to a file instead of <code class="docutils literal notranslate"><span class="pre">None</span></code> and open the file with some editor.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;presidents.json&#39;</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Add a break-line at the end of the first dictionary and try to
load the resulting file with <code class="docutils literal notranslate"><span class="pre">pd.read_json</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;presidents.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump</td>
      <td>74</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama</td>
      <td>59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load presidents.json</span>
<span class="p">[{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Donald Trump&quot;</span><span class="p">,</span><span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">74</span><span class="p">},{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Barak Obama&quot;</span><span class="p">,</span><span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">59</span><span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;Name&#39;: &#39;Donald Trump&#39;, &#39;Age&#39;: 74}, {&#39;Name&#39;: &#39;Barak Obama&#39;, &#39;Age&#39;: 59}]
</pre></div>
</div>
</div>
</div>
<p>JSON allows for some flexibility in the break-lines structure:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hm</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">hola</span>
<span class="s1">mundo</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hm</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\nhola\nmundo\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span>
     <span class="s2">&quot;Donald Trump&quot;</span><span class="p">,</span><span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">74</span><span class="p">},{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="c1">#en cualquier parte</span>
                               <span class="s2">&quot;Barak Obama&quot;</span><span class="p">,</span><span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">59</span><span class="p">}</span>

<span class="c1">#Un comentario</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;Name&#39;: &#39;Donald Trump&#39;, &#39;Age&#39;: 74}, {&#39;Name&#39;: &#39;Barak Obama&#39;, &#39;Age&#39;: 59}]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">             [{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:73},</span>
<span class="s1">              {&quot;Name&quot;:&quot;Barak Obama&quot;, &quot;Age&quot;:58}]</span>
<span class="s1">            &#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump</td>
      <td>73</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama</td>
      <td>58</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>For large databases it is convinient just to accumulate dictionaries in a sequential form:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74}
{&quot;Name&quot;:&quot;Barak Obama&quot;,&quot;Age&quot;:59}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">             {&quot;Name&quot;:&quot;Donald Trump, Junior&quot;,&quot;Age&quot;:73}</span>
<span class="s1">             {&quot;Name&quot;:&quot;Barak Obama, Senior&quot;, &quot;Age&quot;:58}</span>
<span class="s1">            &#39;&#39;&#39;</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump, Junior</td>
      <td>73</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama, Senior</td>
      <td>58</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump, Junior</td>
      <td>73</td>
      <td>Donald Trump</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama, Senior</td>
      <td>58</td>
      <td>Barak Obama</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">             {&quot;Name&quot;:&quot;Donald Trump Junior&quot;,&quot;Age&quot;:73}</span>
<span class="s1">             {&quot;Name&quot;:&quot;Barak Obama Senior&quot;, &quot;Age&quot;:58}</span>
<span class="s1">            &#39;&#39;&#39;</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump Junior</td>
      <td>73</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama Senior</td>
      <td>58</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;A B&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump Junior</td>
      <td>73</td>
      <td>Donald Trump</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama Senior</td>
      <td>58</td>
      <td>Barak Obama</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Activity</strong>:</p>
<ul class="simple">
<li><p>Save to a file instead of <code class="docutils literal notranslate"><span class="pre">None</span></code>, with options: <code class="docutils literal notranslate"><span class="pre">orient='records',lines=True</span></code>, and open the file with some editor.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;presidents.json&#39;</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">presidents</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&quot;Name&quot;:&quot;Donald Trump, Junior&quot;,&quot;Age&quot;:73,&quot;name&quot;:&quot;Donald Trump&quot;}
{&quot;Name&quot;:&quot;Barak Obama, Senior&quot;,&quot;Age&quot;:58,&quot;name&quot;:&quot;Barak Obama&quot;}
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Add a similar dictionary in the next new line, and try to
load the resulting file with <code class="docutils literal notranslate"><span class="pre">pd.read_json</span></code> with options: <code class="docutils literal notranslate"><span class="pre">orient='records',lines=True</span></code>.</p>
<ul>
<li><p>WARNING: Use doble-quotes <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> to write the keys od the new
dictionary</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;presidents.json&#39;</span><span class="p">,</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Donald Trump, Junior</td>
      <td>73</td>
      <td>Donald Trump</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barak Obama, Senior</td>
      <td>58</td>
      <td>Barak Obama</td>
    </tr>
    <tr>
      <th>2</th>
      <td>George Bush, Junio</td>
      <td>100</td>
      <td>George Bush</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Any Python string need to be converted first to double-quotes before to be used as JSON string.</p>
<p><strong>Example</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;even&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>   <span class="c1">#  First  key-list</span>
         <span class="s2">&quot;odd&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="p">}</span>  <span class="c1">#  Second key-list</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;even&#39;: [0, 2, 4, -6, 8], &#39;odd&#39;: [1, 3, -5, 7, 9]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;{&#39;even&#39;: [0, 2, 4, -6, 8], &#39;odd&#39;: [1, 3, -5, 7, 9]}&quot;
</pre></div>
</div>
</div>
</div>
<p>This string can be writing in the <code class="docutils literal notranslate"><span class="pre">JSON</span></code> format by replacing the single quotes, ‘ , by  duoble quotes, “:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;hola mundo cruel&quot;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;cruel&#39;</span><span class="p">,</span><span class="s1">&#39;radiante&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;hola mundo radiante&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;{&quot;even&quot;: [0, 2, 4, -6, 8], &quot;odd&quot;: [1, 3, -5, 7, 9]}&#39;
</pre></div>
</div>
</div>
</div>
<p>and now can be used as an JSON input</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span>  <span class="nb">str</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>-5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Activity</strong>: Try to read the string as JSON without make the double-quote replacement</p>
</section>
</section>
<section id="filters-masking">
<h2>Filters (masking)<a class="headerlink" href="#filters-masking" title="Permalink to this headline">#</a></h2>
<p>The main application of labeled data for data analysis is the possibility to make filers, or cuts, to obtain specific reduced datasets to further analysis</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;even&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>   <span class="c1">#  First  key-list</span>
         <span class="s2">&quot;odd&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="p">}</span>  <span class="c1">#  Second key-list</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>-5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A filter is a list of <code class="docutils literal notranslate"><span class="pre">True/False</span></code> values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3     True
4     True
Name: even, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#and</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">odd</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>-5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">odd</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">))</span> <span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#or</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">odd</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>-5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="the-apply-method">
<h2>The <code class="docutils literal notranslate"><span class="pre">apply</span></code> method<a class="headerlink" href="#the-apply-method" title="Permalink to this headline">#</a></h2>
<p>The advantage of the spreadsheet paradigm is that the columns can be transformed with functions. All the typical functions avalaible for a spreadsheet are already implemented like the method <code class="docutils literal notranslate"><span class="pre">.abs()</span></code> used before, or the method: <code class="docutils literal notranslate"><span class="pre">.sum()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p><strong>Activity</strong>: Explore the avalaible methods by using the completion system of the notebook after the last semicolon of <code class="docutils literal notranslate"><span class="pre">df.even.</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kk</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kk</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<p>df[‘even’].ipynb_checkpoints/</p>
<section id="column-level-apply">
<h3>Column-level <code class="docutils literal notranslate"><span class="pre">apply</span></code><a class="headerlink" href="#column-level-apply" title="Permalink to this headline">#</a></h3>
<p>We just select the column and apply the direct or implicit function:</p>
<ul class="simple">
<li><p>Pre-defined function</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">abs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Implicit function</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="nb">int</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    True
1    True
2    True
3    True
4    True
Name: even, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">even</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     0
1     4
2    16
3    36
4    64
Name: even, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="row-level-apply">
<h3>Row-level apply<a class="headerlink" href="#row-level-apply" title="Permalink to this headline">#</a></h3>
<p>The foll row is passed as dictionary to the explicit or implicit function when <code class="docutils literal notranslate"><span class="pre">apply</span></code> is used for the full <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> and the option <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> is used at the end</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>even</th>
      <th>odd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>-5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;odd&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     1
1    11
2    29
3    43
4    89
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;even&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;odd&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     1
1    11
2    29
3    43
4    89
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;even&#39;</span><span class="p">)</span><span class="o">+</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;odd&#39;</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     1
1    11
2    29
3    43
4    89
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="chain-tools-for-data-analysis">
<h2>Chain tools for data analysis<a class="headerlink" href="#chain-tools-for-data-analysis" title="Permalink to this headline">#</a></h2>
<p>There are several chain tools for data analyis like the</p>
<ul class="simple">
<li><p>Spreadsheet based one, like Excel</p></li>
<li><p>Relational databases with the use of more advanced SQL tabular data with some data base software like MySQL</p></li>
<li><p>Non-relational databases (RAM) with Pandas, R,  Paw,… ( max ~ RAM/8)</p></li>
<li><p>Non-relational databases (Disk): Dask, ROOT, MongoDB,…</p></li>
</ul>
<p>Here we illustrate an example of use fo a non-relational database with Pandas</p>
</section>
<section id="relational-databases">
<h2>Relational databases<a class="headerlink" href="#relational-databases" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/data/personas.csv&#39;</span><span class="p">)</span>
<span class="c1">#personas=pd.read_csv(&#39;../data/personas.csv&#39;)</span>
<span class="n">personas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Fecha de Nacimiento</th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>1966-07-04</td>
      <td>888</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>1952-07-04</td>
      <td>666</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>trabajos=pd.read_csv(&#39;https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/data/trabajos.csv&#39;,
                     na_filter=False)


Open In Colab
Pandas

Open In Colab

From http://pandas.pydata.org/pandas-docs/stable/

pandas is a Python package providing fast, flexible, and expressive data structures designed to make working with “relational” or “labeled” data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real world data analysis in Python. Additionally, it has the broader goal of becoming the most powerful and flexible open source data analysis / manipulation tool available in any language. It is already well on its way toward this goal.

See also:

    https://github.com/restrepo/data-analysis
        https://classroom.github.com/g/sSMBdBqN
        https://classroom.github.com/a/PcbQBE7F
    https://github.com/restrepo/PythonTipsAndTricks
    https://pbpython.com/excel-pandas-comp.html [archive.org]

Good and practice books about Pandas possibilities are:

Python for Data Analysis
Data Wrangling with Pandas, NumPy, and IPython
By William McKinney

This other is about aplications based on Pandas: image.png Introduction to Machine Learning with Python
A Guide for Data Scientists By Sarah Guido, Andreas Müller

Python Books

Pandas can be used in a similar way to R, which is based on similar data structures. Pandas also can replace the use of graphical interfaces to access spreadsheets like Excel. In particular, can be used in joint with the module xlsxwriter to produce professional Excel spreadsheets at the programatical level.

The similar data structure in Wolfram Alpha and Mathematica is the Dataset, in C++ is the ROOT framework, and in the old Fortran 77 was paw. In this way, a dictionary of equivalent commands can be stablished between the several frameworks
Standard way to load the module

import pandas as pd

Basic structure: DataFrame

An flat spreadsheet can be seen in terms of the types of variables of Python just as dictionary of lists, where each column of the spreadsheet is a pair key-list of the dictionary
	A 	B
1 	even 	odd
2 	0 	1
3 	2 	3
4 	4 	5
5 	6 	7
6 	8 	9

numbers={&quot;even&quot;: [0,2,4,6,8],   #  First  key-list

         &quot;odd&quot; : [1,3,5,7,9] }  #  Second key-list

Data structures

Pandas has two new data structures:

    DataFrame which are similar to numpy arrays but with some assigned key. For example, for the previous case

    import numpy as np
    np.array([[0,1],
           [2,3],
           [4,5],
           [6,7],
           [8,9] 
          ])

    Series which are enriched to dictionaries, as the ones defined for the rows of the previous example: {&#39;even&#39;:0,&#39;odd&#39;:1}.

The rows in a two-dimensional DataFrame corresponds to Series with similar keys, while the columns are also Series with the indices as keys.

An example of a DataFrame is a spreadsheet, as the one before.
DataFrame

Pandas can convert a dictionary of lists, like the numbers dictionary before, into a DataFrame, which is just an spreadsheet but interpreted at the programming level:

numbers

{&#39;even&#39;: [0, 2, 4, 6, 8], &#39;odd&#39;: [1, 3, 5, 7, 9]}

import pandas as pd

df=pd.DataFrame(numbers)

df

	even 	odd
0 	0 	1
1 	2 	3
2 	4 	5
3 	6 	7
4 	8 	9

import matplotlib.pyplot as plt

plt.plot(df[&#39;even&#39;],df[&#39;odd&#39;])

[&lt;matplotlib.lines.Line2D at 0x7f7d7a779880&gt;]

See below for other possibilities of creating Pandas DataFrames from lists and dictionaries

The main advantage of the DataFrame, df, is that it can be managed without a graphical interface.

We can check the shape of the DataFrame

df.shape

(5, 2)

Export DataFrame to other formats

    To export to excel:

df.to_excel(&#39;example.xlsx&#39;,index=False)

newdf=pd.read_excel(&#39;example.xlsx&#39;)

newdf

	even 	odd
0 	0 	1
1 	2 	3
2 	4 	5
3 	6 	7
4 	8 	9

newdf[&#39;fractions&#39;]=[0.5,2.5,4.5,6.5,8.5]

newdf

	even 	odd 	fractions
0 	0 	1 	0.5
1 	2 	3 	2.5
2 	4 	5 	4.5
3 	6 	7 	6.5
4 	8 	9 	8.5

newdf[&#39;next fractions&#39;]=1.5

newdf

	even 	odd 	fractions 	next fractions
0 	0 	1 	0.5 	1.5
1 	2 	3 	2.5 	1.5
2 	4 	5 	4.5 	1.5
3 	6 	7 	6.5 	1.5
4 	8 	9 	8.5 	1.5

newdf.loc[3,&#39;next to next fractions&#39;]=1.7

newdf

	even 	odd 	fractions 	next fractions 	(3, next to next fractions) 	next to next fractions
0 	0 	1 	0.5 	1.5 	1.7 	NaN
1 	2 	3 	2.5 	1.5 	1.7 	NaN
2 	4 	5 	4.5 	1.5 	1.7 	NaN
3 	6 	7 	6.5 	1.5 	1.7 	1.7
4 	8 	9 	8.5 	1.5 	1.7 	NaN

Activity: Open the resulting spreadsheet in Google Drive, publish it and open from the resulting link with Pandas in the next cell

df=pd.read_excel(&#39;PASTE THE PUBLISHED LINK HERE&#39;)

df

df=pd.read_excel(&#39;https://docs.google.com/spreadsheets/d/e/2PACX-1vQ1HFwErJcHkkOCT4Je-yuLSRe2L_GKWcCGVooc6rbOvTLxJhqglTZh31I_eB_dcw/pub?output=xlsx&#39;)

df

	even 	odd
0 	0.0 	1.0
1 	2.0 	3.0
2 	4.0 	5.0
3 	6.0 	7.0
4 	8.0 	9.0
Series

Each column of the DataFrame is now an augmented dictionary called Series, with the indices as the keys of the Series

A Pandas Series object can be just initialized from a Python dictionary:

df[&#39;even&#39;]

0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64

type( df[&#39;even&#39;] )

pandas.core.series.Series

df.even

0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64

The keys are the index of the DataFrame

#df[&#39;even&#39;]

df.even[4]

8

Each row is also a series

df.loc[0]

even    0
odd     1
Name: 0, dtype: int64

with keys: &#39;even&#39; and &#39;odd&#39;

or as a filter

df.loc[[4]]

	even 	odd
4 	8 	9

df.loc[0][&#39;even&#39;]

0

or attributes even and odd

df.loc[0].odd

1

One specific cell value can be reached with the index and the key:

df.loc[2,&#39;odd&#39;]

5

df.at[2,&#39;even&#39;]

4

    The power of Pandas rely in that their main data structures: DataFrames and Series, are enriched with many useful methods and attributes.

Official definition of Pandas

    Pandas is a Python package providing fast, flexible, and expressive data structures designed to make working with “relational” or “labeled” data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real world data analysis in Python. Additionally, it has the broader goal of becoming the most powerful and flexible open source data analysis / manipulation tool available in any language. It is already well on its way toward this goal.

    &quot;relational&quot;: the list of data is identified with some unique index (like a SQL table)
    &quot;labeled&quot;: the list is identified with a key, like the previous odd or even keys.

For example. A double bracket [[...]], can be used to filter data.

A row in a two-dimensional DataFrame corresponds to Series with the same keys of the DataFrame, but with single values instead of a list

df.loc[[0]]

	even 	odd
0 	0 	1

To filter a column:

df[[&#39;odd&#39;]]

	odd
0 	1
1 	3
2 	5
3 	7
4 	9
More on Series

A Pandas Series object can be just initialized from a Python dictionary:

s=pd.Series({&#39;Name&#39;:&#39;Juan Valdez&#39;,&#39;Nacionality&#39;:&#39;Colombia&#39;,&#39;Age&#39;:23})

s

Name           Juan Valdez
Nacionality       Colombia
Age                     23
dtype: object

s[&#39;Name&#39;]

&#39;Juan Valdez&#39;

but also as containers of name spaces!

s.Name

&#39;Juan Valdez&#39;

DataFrame initialization
Initization from an existing spreadsheet.

This can be locally in your computer o from some downloadable link

df=pd.read_excel(&#39;http://bit.ly/spreadsheet_xlsx&#39;)

df

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	23.0 	Café de Colombia
1 	Álvaro Uribe Vélez 	65.0 	Senado de la República

To make a downloadable link for any spread sheet in Google Drive, follow the sequence:

File → Publish to the web...→ Entire Document → Web page → Microsoft excel (xlsx)

as illustrated in the figure: GS

df.loc[0,&#39;Edad&#39;]=32

#df.at[0,&#39;Edad&#39;]=32

df

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	32.0 	Café de Colombia
1 	Álvaro Uribe Vélez 	65.0 	Senado de la República

After some modification

it can be saved again as an excel file with the option to not create a column of indices: index=False
Intialization from lists and dictionaries
Inizialization from Series

We start with an empty DataFrame:

Creating Pandas DataFrame from list and dictionaries offers many alternatives

creating dataframes
Column oriented way

    In addition to the dictionary of lists already illustrated at the beginning that in this case corresponds to:

pd.DataFrame({&#39;Nombre&#39;   : [&#39;Juan Valdez&#39;,&#39;Álvaro Uribe Vélez&#39;],

              &#39;Edad&#39;     : [32,            69                 ],

              &#39;Compañia&#39; : [&#39;Café de Colombia&#39;,&#39;Senado de la República&#39;]})

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	32 	Café de Colombia
1 	Álvaro Uribe Vélez 	69 	Senado de la República

    We can obtain the DataFrame from list of items

pd.DataFrame.from_items([ [ &#39;Nombre&#39;  , [&#39;Juan Valdez&#39;,&#39;Álvaro Uribe Vélez&#39;]],

                          [ &#39;Edad&#39;    , [  32,            65               ]],

                          [ &#39;Compañia&#39;, [&#39;Café de Colombia&#39;,&#39;Senado de la República&#39;]] ])

    We can obtain the DataFrame from dictionary

pd.DataFrame( [{&#39;Nombre&#39;:&#39;Juan Valdez&#39;,        &#39;Edad&#39;: 32   ,&#39;Compañia&#39;:&#39;Café de Colombia&#39;      },

              {&#39;Nombre&#39;:&#39;Álvaro Uribe Vélez&#39;, &#39;Edad&#39;: 65   ,&#39;Compañia&#39;:&#39;Senado de la República&#39;}]

            )

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	32 	Café de Colombia
1 	Álvaro Uribe Vélez 	65 	Senado de la República

df=pd.DataFrame()

df

df.empty

True

Initialization from sequential rows as Series

We start with an empty DataFrame:

df=pd.DataFrame()

df.empty

True

We can append a dictionary (or Series) as a row of the DataFrame, provided that we always use the option: ignore_index=True

d={&#39;Name&#39;:&#39;Juan Valdez&#39;,&#39;Nacionality&#39;:&#39;Colombia&#39;,&#39;Age&#39;:23}

df=df.append(d,ignore_index=True)

df

/tmp/ipykernel_10365/593603890.py:2: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
  df=df.append(d,ignore_index=True)

	Name 	Nacionality 	Age
0 	Juan Valdez 	Colombia 	23

We can fix the type of data of the &#39;Age&#39; column

type(df.Edad[0])

numpy.float64

df[&#39;Edad&#39;]=df.Edad.astype(int)

df

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	23 	Café de Colombia
1 	Álvaro Uribe Vélez 	65 	Senado de la República

To add a second file we build another dict

d={}

for k in [&#39;Name&#39;,&#39;Nacionality&#39;,&#39;Age&#39;,&#39;Company&#39;]:

    var=input(&#39;{}:\n&#39;.format(k))

    d[k]=var

Name:
 Diego Restrepo
Nacionality:
 Colombia
Age:
 51
Company:
 UdeA

d

{&#39;Name&#39;: &#39;Diego Restrepo&#39;,
 &#39;Nacionality&#39;: &#39;Colombia&#39;,
 &#39;Age&#39;: &#39;51&#39;,
 &#39;Company&#39;: &#39;UdeA&#39;}

df=df.append(d,ignore_index=True)

/tmp/ipykernel_10365/1294992754.py:1: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
  df=df.append(d,ignore_index=True)

Exercises

    Display the resulting Series in the screen:

df[&#39;Name&#39;]

0       Juan Valdez
1    Diego Restrepo
Name: Name, dtype: object

    Append to the previous DataFrame and visualize it:

df=df.append(d,ignore_index=True)

df

	Age 	Nacionality 	Name 	Company
0 	23 	Colombia 	Juan Valdez 	NaN
1 	33 	Portugal 	Diego Restrepo 	Google

    Fill NaN with empty strings

df=df.fillna(&#39;&#39;)

df

	Name 	Nacionality 	Age 	Company
0 	Juan Valdez 	Colombia 	23 	
1 	Diego Restrepo 	Colombia 	51 	UdeA

    Save Pandas DataFrame as an Excel file

df.to_excel(&#39;prof.xlsx&#39;,index=False)

    Load pandas DataFrame from the saved file in Excel

pd.read_excel(&#39;prof.xlsx&#39;)

	Name 	Nacionality 	Age 	Company
0 	Juan Valdez 	Colombia 	23 	NaN
1 	Diego Restrepo 	Colombia 	51 	UdeA
Common operations upon DataFrames

See https://github.com/restrepo/PythonTipsAndTricks

    To fill a specific cell

df.at[0,&#39;Company&#39;]=&#39;Federación de Caferos&#39;

df

	Name 	Nacionality 	Age 	Company
0 	Juan Valdez 	Colombia 	23 	Federación de Caferos
1 	Diego Restrepo 	Colombia 	51 	UdeA
Other formats to saving and read files

We are interested in format which keeps the tags of the columns, like &#39;Nombre&#39;, &#39;Edad&#39;, &#39;Compañia&#39;

import pandas as pd

df=pd.read_excel(&#39;http://bit.ly/spreadsheet_xlsx&#39;)

df

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	23.0 	Café de Colombia
1 	Álvaro Uribe Vélez 	65.0 	Senado de la República

type(df.loc[0,&#39;Edad&#39;])

numpy.float64

CSV

Comma separated values

df.to_csv(&#39;hoja.csv&#39;,index=False)

cat hoja.csv

Nombre,Edad,Compañia
Juan Valdez,23.0,Café de Colombia
Álvaro Uribe Vélez,65.0,Senado de la República

We can check the explicit file format with

print(df.to_csv(None,index=False))

Nombre,Edad,Compañia
Juan Valdez,23.0,Café de Colombia
Álvaro Uribe Vélez,65.0,Senado de la República

pd.read_csv(&#39;hoja.csv&#39;)

	Nombre 	Edad 	Compañia
0 	Juan Valdez 	23.0 	Café de Colombia
1 	Álvaro Uribe Vélez 	65.0 	Senado de la República
JSON

This format keeps the Python lists and dictionaries at the storage level

df=pd.DataFrame([{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74},

                 {&quot;Name&quot;:&quot;Barak Obama&quot;, &quot;Age&quot;:59}])

df

	Name 	Age
0 	Donald Trump 	74
1 	Barak Obama 	59

This format allow us to keep exactly the very same list of dictionaries structure!

print(df.to_json(None,orient=&#39;records&#39;))

[{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74},{&quot;Name&quot;:&quot;Barak Obama&quot;,&quot;Age&quot;:59}]

Activity:

    Save to a file instead of None and open the file with some editor.

df.to_json(&#39;presidents.json&#39;,orient=&#39;records&#39;)

    Add a break-line at the end of the first dictionary and try to load the resulting file with pd.read_json

pd.read_json(&#39;presidents.json&#39;)

	Name 	Age
0 	Donald Trump 	74
1 	Barak Obama 	59

# %load presidents.json

[{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74},{&quot;Name&quot;:&quot;Barak Obama&quot;,&quot;Age&quot;:59}]

[{&#39;Name&#39;: &#39;Donald Trump&#39;, &#39;Age&#39;: 74}, {&#39;Name&#39;: &#39;Barak Obama&#39;, &#39;Age&#39;: 59}]

JSON allows for some flexibility in the break-lines structure:

hm=&#39;&#39;&#39;

hola

mundo

&#39;&#39;&#39;

hm

&#39;\nhola\nmundo\n&#39;

[

    {&quot;Name&quot;:

     &quot;Donald Trump&quot;,&quot;Age&quot;:74},{&quot;Name&quot;: #en cualquier parte

                               &quot;Barak Obama&quot;,&quot;Age&quot;:59}

​

#Un comentario

]

[{&#39;Name&#39;: &#39;Donald Trump&#39;, &#39;Age&#39;: 74}, {&#39;Name&#39;: &#39;Barak Obama&#39;, &#39;Age&#39;: 59}]

pd.read_json(&#39;&#39;&#39;

             [{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:73},

              {&quot;Name&quot;:&quot;Barak Obama&quot;, &quot;Age&quot;:58}]

            &#39;&#39;&#39;)

	Name 	Age
0 	Donald Trump 	73
1 	Barak Obama 	58

For large databases it is convinient just to accumulate dictionaries in a sequential form:

print(df.to_json(None,orient=&#39;records&#39;,lines=True))

{&quot;Name&quot;:&quot;Donald Trump&quot;,&quot;Age&quot;:74}
{&quot;Name&quot;:&quot;Barak Obama&quot;,&quot;Age&quot;:59}

df=pd.read_json(&#39;&#39;&#39;

             {&quot;Name&quot;:&quot;Donald Trump, Junior&quot;,&quot;Age&quot;:73}

             {&quot;Name&quot;:&quot;Barak Obama, Senior&quot;, &quot;Age&quot;:58}

            &#39;&#39;&#39;,orient=&#39;records&#39;,lines=True)

df

	Name 	Age
0 	Donald Trump, Junior 	73
1 	Barak Obama, Senior 	58

df[&quot;name&quot;]=df[&#39;Name&#39;].str.split(&#39;, &#39;).str[0]

df

	Name 	Age 	name
0 	Donald Trump, Junior 	73 	Donald Trump
1 	Barak Obama, Senior 	58 	Barak Obama

df=pd.read_json(&#39;&#39;&#39;

             {&quot;Name&quot;:&quot;Donald Trump Junior&quot;,&quot;Age&quot;:73}

             {&quot;Name&quot;:&quot;Barak Obama Senior&quot;, &quot;Age&quot;:58}

            &#39;&#39;&#39;,orient=&#39;records&#39;,lines=True)

df

	Name 	Age
0 	Donald Trump Junior 	73
1 	Barak Obama Senior 	58

l=[&#39;A&#39;,&#39;B&#39;]

&#39; &#39;.join(l)

&#39;A B&#39;

df[&#39;name&#39;]=df.Name.str.split().str[:-1].apply(lambda s: &#39; &#39;.join(s))

df

	Name 	Age 	name
0 	Donald Trump Junior 	73 	Donald Trump
1 	Barak Obama Senior 	58 	Barak Obama

Activity:

    Save to a file instead of None, with options: orient=&#39;records&#39;,lines=True, and open the file with some editor.

df.to_json(&#39;presidents.json&#39;,orient=&#39;records&#39;,lines=True)

cat presidents.json

{&quot;Name&quot;:&quot;Donald Trump, Junior&quot;,&quot;Age&quot;:73,&quot;name&quot;:&quot;Donald Trump&quot;}
{&quot;Name&quot;:&quot;Barak Obama, Senior&quot;,&quot;Age&quot;:58,&quot;name&quot;:&quot;Barak Obama&quot;}

    Add a similar dictionary in the next new line, and try to load the resulting file with pd.read_json with options: orient=&#39;records&#39;,lines=True.
        WARNING: Use doble-quotes &quot; to write the keys od the new dictionary

pd.read_json(&#39;presidents.json&#39;,orient=&#39;records&#39;,lines=True)

	Name 	Age 	name
0 	Donald Trump, Junior 	73 	Donald Trump
1 	Barak Obama, Senior 	58 	Barak Obama
2 	George Bush, Junio 	100 	George Bush

Any Python string need to be converted first to double-quotes before to be used as JSON string.

Example

numbers={&quot;even&quot;: [0,2,4,-6,8],   #  First  key-list

         &quot;odd&quot; : [1,3,-5,7,9] }  #  Second key-list

numbers

{&#39;even&#39;: [0, 2, 4, -6, 8], &#39;odd&#39;: [1, 3, -5, 7, 9]}

str(numbers)

&quot;{&#39;even&#39;: [0, 2, 4, -6, 8], &#39;odd&#39;: [1, 3, -5, 7, 9]}&quot;

This string can be writing in the JSON format by replacing the single quotes, &#39; , by duoble quotes, &quot;:

&quot;hola mundo cruel&quot;.replace(&#39;cruel&#39;,&#39;radiante&#39;)

&#39;hola mundo radiante&#39;

str(numbers).replace(&quot;&#39;&quot;,&#39;&quot;&#39;)

&#39;{&quot;even&quot;: [0, 2, 4, -6, 8], &quot;odd&quot;: [1, 3, -5, 7, 9]}&#39;

and now can be used as an JSON input

df=pd.read_json(  str(numbers).replace(&quot;&#39;&quot;,&#39;&quot;&#39;) )

df

	even 	odd
0 	0 	1
1 	2 	3
2 	4 	-5
3 	-6 	7
4 	8 	9

Activity: Try to read the string as JSON without make the double-quote replacement
Filters

The main application of labeled data for data analysis is the possibility to make filers, or cuts, to obtain specific reduced datasets to further analysis

import pandas as pd

numbers={&quot;even&quot;: [0,2,4,-6,8],   #  First  key-list

         &quot;odd&quot; : [1,3,-5,7,9] }  #  Second key-list

df=pd.DataFrame(numbers)

df

	even 	odd
0 	0 	1
1 	2 	3
2 	4 	-5
3 	-6 	7
4 	8 	9

A filter is a list of True/False values

df.even.abs()&gt;4

0    False
1    False
2    False
3     True
4     True
Name: even, dtype: bool

df[df.even.abs()&gt;4]

	even 	odd
3 	-6 	7
4 	8 	9

#and

df[(df.even&gt;0) &amp; (df.odd&lt;0)]

	even 	odd
2 	4 	-5

df[~((df.even&gt;0) &amp; (df.odd&lt;0)) ]

	even 	odd
0 	0 	1
1 	2 	3
3 	-6 	7
4 	8 	9

#or

df[(df.even&lt;0) | (df.odd&lt;0)]

	even 	odd
2 	4 	-5
3 	-6 	7
The apply method

The advantage of the spreadsheet paradigm is that the columns can be transformed with functions. All the typical functions avalaible for a spreadsheet are already implemented like the method .abs() used before, or the method: .sum()

df.even.sum()

8

Activity: Explore the avalaible methods by using the completion system of the notebook after the last semicolon of df.even.

kk=df[&#39;even&#39;]

kk.

df[&#39;even&#39;].ipynb_checkpoints/
Column-level apply

We just select the column and apply the direct or implicit function:

    Pre-defined function

df.even.apply(abs)

0    0
1    2
2    4
3    6
4    8
Name: even, dtype: int64

    Implicit function

df.even.apply(lambda n:isinstance(n,int))

0    True
1    True
2    True
3    True
4    True
Name: even, dtype: bool

df.even.apply(lambda n: n**2)

0     0
1     4
2    16
3    36
4    64
Name: even, dtype: int64

Row-level apply

The foll row is passed as dictionary to the explicit or implicit function when apply is used for the full DataFrame and the option axis=1 is used at the end

df

	even 	odd
0 	0 	1
1 	2 	3
2 	4 	-5
3 	-6 	7
4 	8 	9

df[&#39;even&#39;]+df[&#39;odd&#39;]**2

0     1
1    11
2    29
3    43
4    89
dtype: int64

df.apply(lambda row: row[&#39;even&#39;]+row[&#39;odd&#39;]**2,axis=&#39;columns&#39;)

0     1
1    11
2    29
3    43
4    89
dtype: int64

df.apply(lambda row: row.get(&#39;even&#39;)+row.get(&#39;odd&#39;)**2,axis=&#39;columns&#39;)

0     1
1    11
2    29
3    43
4    89
dtype: int64

Chain tools for data analysis

There are several chain tools for data analyis like the

    Spreadsheet based one, like Excel
    Relational databases with the use of more advanced SQL tabular data with some data base software like MySQL
    Non-relational databases (RAM) with Pandas, R, Paw,... ( max ~ RAM/8)
    Non-relational databases (Disk): Dask, ROOT, MongoDB,...

Here we illustrate an example of use fo a non-relational database with Pandas
Relational databases

import pandas as pd

personas=pd.read_csv(&#39;https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/data/personas.csv&#39;)

#personas=pd.read_csv(&#39;../data/personas.csv&#39;)

personas

	Nombre 	Fecha de Nacimiento 	id
0 	Juan Valdez 	1966-07-04 	888
1 	Álvaro Uribe Vélez 	1952-07-04 	666

trabajos=pd.read_csv(&#39;https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/data/trabajos.csv&#39;,na_filter=False)

#trabajos=pd.read_csv(&#39;../data/trabajos.csv&#39;,na_filter=False)

trabajos

	id 	Inicio 	Fin 	Cargo 	Compañía
0 	888 	2010 		Arriero 	Café de Colombia
1 	666 	2013 	2020 	Senador 	Senado de la República de Colombia
2 	666 	2020 		Influencer 	Twitter

img
Activity

Obtain the current work of Álavro Uribe Vélez

trabajos

	id 	Inicio 	Fin 	Cargo 	Compañía
0 	888 	2010 		Arriero 	Café de Colombia
1 	666 	2013 	2020 	Senador 	Senado de la República de Colombia
2 	666 	2020 		Influencer 	Twitter

import unidecode

cc=personas[personas[&#39;Nombre&#39;].str.lower().apply(

    unidecode.unidecode).str.contains(&#39;alvaro uribe velez&#39;)].iloc[0].get(&#39;id&#39;)

trabajos[trabajos.get(&#39;id&#39;)==cc][&#39;Cargo&#39;].to_list()

[&#39;Senador&#39;, &#39;Influencer&#39;]

Non-relational databases

Listas de diccionarios anidados con una esquema de datos definido

img

personas[&#39;Fecha de Nacimiento&#39;]=pd.to_datetime( personas[&#39;Fecha de Nacimiento&#39;] )

personas

	Nombre 	Fecha de Nacimiento 	id
0 	Juan Valdez 	1966-07-04 	888
1 	Álvaro Uribe Vélez 	1952-07-04 	666

Extract-Transform-Load: ETL

from dateutil.relativedelta import relativedelta

personas[&#39;Edad&#39;]=personas[&#39;Fecha de Nacimiento&#39;].apply(lambda t: 

                        relativedelta( pd.to_datetime(&#39;now&#39;), t).years )

trabajos[trabajos[&#39;id&#39;]==666].to_dict(orient=&#39;records&#39;)

[{&#39;id&#39;: 666,
  &#39;Inicio&#39;: 2013,
  &#39;Fin&#39;: &#39;2020&#39;,
  &#39;Cargo&#39;: &#39;Senador&#39;,
  &#39;Compañía&#39;: &#39;Senado de la República de Colombia&#39;},
 {&#39;id&#39;: 666,
  &#39;Inicio&#39;: 2020,
  &#39;Fin&#39;: &#39;&#39;,
  &#39;Cargo&#39;: &#39;Influencer&#39;,
  &#39;Compañía&#39;: &#39;Twitter&#39;}]

personas

	Nombre 	Fecha de Nacimiento 	id 	Edad
0 	Juan Valdez 	1966-07-04 	888 	55
1 	Álvaro Uribe Vélez 	1952-07-04 	666 	69

personas[&#39;id&#39;]

0    888
1    666
Name: id, dtype: int64

personas[&#39;Trabajos&#39;]=personas[&#39;id&#39;].apply(lambda i:  trabajos[trabajos[&#39;id&#39;]==i

                                                             ][[&#39;Inicio&#39;,&#39;Fin&#39;,&#39;Cargo&#39;,&#39;Compañía&#39;]

                                                              ].to_dict(orient=&#39;records&#39;) )

personas

	Nombre 	Fecha de Nacimiento 	id 	Edad 	Trabajos
0 	Juan Valdez 	1966-07-04 	888 	55 	[{&#39;Inicio&#39;: 2010, &#39;Fin&#39;: &#39;&#39;, &#39;Cargo&#39;: &#39;Arriero...
1 	Álvaro Uribe Vélez 	1952-07-04 	666 	69 	[{&#39;Inicio&#39;: 2013, &#39;Fin&#39;: &#39;2020&#39;, &#39;Cargo&#39;: &#39;Sen...

personajes=personas[[&#39;Nombre&#39;,&#39;Edad&#39;,&#39;Trabajos&#39;]]

personajes

	Nombre 	Edad 	Trabajos
0 	Juan Valdez 	55 	[{&#39;Inicio&#39;: 2010, &#39;Fin&#39;: &#39;&#39;, &#39;Cargo&#39;: &#39;Arriero...
1 	Álvaro Uribe Vélez 	69 	[{&#39;Inicio&#39;: 2013, &#39;Fin&#39;: &#39;2020&#39;, &#39;Cargo&#39;: &#39;Sen...

personajes.to_dict(orient=&#39;records&#39;)

[{&#39;Nombre&#39;: &#39;Juan Valdez&#39;,
  &#39;Edad&#39;: 55,
  &#39;Trabajos&#39;: [{&#39;Inicio&#39;: 2010,
    &#39;Fin&#39;: &#39;&#39;,
    &#39;Cargo&#39;: &#39;Arriero&#39;,
    &#39;Compañía&#39;: &#39;Café de Colombia&#39;}]},
 {&#39;Nombre&#39;: &#39;Álvaro Uribe Vélez&#39;,
  &#39;Edad&#39;: 69,
  &#39;Trabajos&#39;: [{&#39;Inicio&#39;: 2013,
    &#39;Fin&#39;: &#39;2020&#39;,
    &#39;Cargo&#39;: &#39;Senador&#39;,
    &#39;Compañía&#39;: &#39;Senado de la República de Colombia&#39;},
   {&#39;Inicio&#39;: 2020, &#39;Fin&#39;: &#39;&#39;, &#39;Cargo&#39;: &#39;Influencer&#39;, &#39;Compañía&#39;: &#39;Twitter&#39;}]}]

from IPython.display import JSON

JSON( personajes.to_dict(orient=&#39;records&#39;) )

Actividad

Obtenga el último trabajo de Álvaro Uribe Vélez

personajes[personajes[&#39;Nombre&#39;]==&#39;Álvaro Uribe Vélez&#39;

          ].get(&#39;Trabajos&#39;

          ).apply(lambda l: [d.get(&#39;Cargo&#39;) for d in l if not d.get(&#39;Fin&#39;)]

          ).str[0].to_list()[0]

&#39;Influencer&#39;

We have shown that the simple two dimensional spreadsheets where each cell values is a simple type like string, integer, or float, can be represented as a dictionary of lists values or a list of dictionary column-value assignment.

We can go further and allow to store in the value itself a more general data structure, like nested lists and dictionaries. This allows advanced data-analysis when the apply methos is used to operate inside the nested lists or dictionaries.

See for example:
World wide web

There are really three kinds of web

    The normal web,
    The deep web,
    The machine web. The web for machine readable responses. It is served in JSON or XML formats, which preserve programming objects.

Normal web

pd.read_html(&#39;https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory&#39;)[0][1:]

	COVID-19 pandemic 	COVID-19 pandemic.1
1 	Disease 	COVID-19
2 	Virus strain 	SARS-CoV-2
3 	Source 	Probably bats, possibly via pangolins[1][2]
4 	Location 	Worldwide
5 	First outbreak 	Mainland China[3]
6 	Index case 	Wuhan, Hubei, China.mw-parser-output .geo-default,.mw-parser-output .geo-dms,.mw-parser-output .geo-dec{display:inline}.mw-parser-output .geo-nondefault,.mw-parser-output .geo-multi-punct{display:...
7 	Date 	1 December 2019[3] – present(1 year, 3 months, 3 weeks and 3 days)
8 	Confirmed cases 	124,971,776[4]
9 	Active cases 	51,331,455[4]
10 	Recovered 	70,893,740[4]
11 	Deaths 	2,746,581[4]
12 	Territories 	192[4]

Real world example: microsoft academics img
Machine web

For example, consider the following normal web page:

https://inspirehep.net/literature?q=doi:10.1103/PhysRevLett.122.132001

about a Scientific paper with people from the University of Antioquia. A machine web version can be easily obtained in JSON just by attaching the extra parameter &amp;of=recjson, and direcly loaded from Pandas, which works like a browser for the third web:

import pandas as pd

df=pd.read_json(&#39;https://inspirehep.net/api/literature?q=doi:10.1103/PhysRevLett.122.132001&#39;)

df

	hits 	links
hits 	[{&#39;metadata&#39;: {&#39;report_numbers&#39;: [{&#39;value&#39;: &#39;C... 	NaN
total 	1 	NaN
self 	NaN 	https://inspirehep.net/api/literature/?q=doi%3...
bibtex 	NaN 	https://inspirehep.net/api/literature/?q=doi%3...
latex-eu 	NaN 	https://inspirehep.net/api/literature/?q=doi%3...
latex-us 	NaN 	https://inspirehep.net/api/literature/?q=doi%3...
json 	NaN 	https://inspirehep.net/api/literature/?q=doi%3...

We can use all the previous methods to extract the authors from &#39;Antioquia U.&#39;:

Note: For a dictionary, d is safer to use d.get(&#39;key&#39;) instead of just d[&#39;key&#39;] to obtain some key, because not error is generated if the requested key does not exists at all

df[df[&#39;hits&#39;].apply(lambda l: isinstance(l,list))][&#39;hits&#39; # extract cell with list

            ].apply(lambda l: [d.get(&#39;metadata&#39;) for d in l] # metadata of article

            ).str[0 #get the matched article dictionary

            ].str[&#39;authors&#39; # get list of authors → l

            ].apply(lambda l: [ f&#39;{d.get(&quot;first_name&quot;)} {d.get(&quot;last_name&quot;)}&#39; for d in l  #author is a dictionary → d

                               #d.get(&#39;affiliations&#39;) is a list  of dictionaries → dd                               

                               if &#39;Antioquia U.&#39; in [dd.get(&#39;value&#39;) for dd in d.get(&#39;affiliations&#39;)] 

                              ])

hits    [Jhovanny Mejia Guisao, José David Ruiz Alvarez]
Name: hits, dtype: object

or

Authors=df[df[&#39;hits&#39;].apply(lambda l: isinstance(l,list))][&#39;hits&#39; # extract cell with list

            ].apply(lambda articles: [article.get(&#39;metadata&#39;) for article in articles] # metadata of article

            ).str[0 #get the matched article dictionary

            ].str[&#39;authors&#39; # get list of authors → l

            ]

names=Authors.apply(lambda authors: [ author.get(&#39;full_name&#39;) for author in authors  #author is a dictionary

                               #author.get(&#39;affiliations&#39;) is a list  of dictionaries → affiliation                              

                               if &#39;Antioquia U.&#39; in [affiliation.get(&#39;value&#39;) for affiliation in author.get(&#39;affiliations&#39;)] 

                              ])

names[0]

[&#39;Mejia Guisao, Jhovanny&#39;, &#39;Ruiz Alvarez, José David&#39;]

We can see that the column authors is quite nested: Is a list of dictionaries with the full information for each one of the authors of the article.

Activity: Check that the lenght of the auhors list coincides with the number_of_authors

​

For further details see: https://github.com/restrepo/inspire/blob/master/gfif.ipynb

Activity: Repeat the same activity but using directly the JSON file, obtained with requests

#See: https://github.com/inspirehep/rest-api-doc/issues/4#issuecomment-645218074

import requests                                                                                                                                                      

response = requests.get(&#39;https://inspirehep.net/api/doi/10.1103/PhysRevLett.122.132001&#39;)                                                                              

authors = response.json()[&#39;metadata&#39;][&#39;authors&#39;]                                                                                                                     

names = [author.get(&#39;full_name&#39;)

              for author in authors 

               if any(aff.get(&#39;value&#39;) == &#39;Antioquia U.&#39; for aff in author.get(&#39;affiliations&#39;))]

names

[&#39;Mejia Guisao, Jhovanny&#39;, &#39;Ruiz Alvarez, José David&#39;]

Summary

Pandas_Cheat_Sheet PDF
ACTIVITIES

See:

    https://github.com/ajcr/100-pandas-puzzles
    https://github.com/guipsamora/pandas_exercises
    https://rramosp.github.io/ai4eng.v1/content/NOTES%2002.04%20-%20PANDAS.html

Final remarks

With basic scripting and Pandas we already have a solid environment to analyse data. We introduce the other libraries motivated with the extending the capabilities of Pandas

​

Created in deepnote.com Created in Deepnote
0
2
Python 3 (ipykernel) | Idle
#trabajos=pd.read_csv(&#39;../data/trabajos.csv&#39;,na_filter=False)
trabajos
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Inicio</th>
      <th>Fin</th>
      <th>Cargo</th>
      <th>Compañía</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>888</td>
      <td>2010</td>
      <td></td>
      <td>Arriero</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>666</td>
      <td>2013</td>
      <td>2020</td>
      <td>Senador</td>
      <td>Senado de la República de Colombia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>666</td>
      <td>2020</td>
      <td></td>
      <td>Influencer</td>
      <td>Twitter</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><img alt="img" src="https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/material/figures/relation.svg" /></p>
<section id="activity">
<h3>Activity<a class="headerlink" href="#activity" title="Permalink to this headline">#</a></h3>
<p>Obtain the current work of Álavro Uribe Vélez</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trabajos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Inicio</th>
      <th>Fin</th>
      <th>Cargo</th>
      <th>Compañía</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>888</td>
      <td>2010</td>
      <td></td>
      <td>Arriero</td>
      <td>Café de Colombia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>666</td>
      <td>2013</td>
      <td>2020</td>
      <td>Senador</td>
      <td>Senado de la República de Colombia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>666</td>
      <td>2020</td>
      <td></td>
      <td>Influencer</td>
      <td>Twitter</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unidecode</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unidecode</span><span class="o">.</span><span class="n">unidecode</span><span class="p">(</span><span class="s1">&#39;Álvaro de Uribe&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;alvaro de uribe&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span><span class="o">=</span><span class="n">personas</span><span class="p">[</span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Nombre&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="n">unidecode</span><span class="o">.</span><span class="n">unidecode</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;alvaro uribe velez&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trabajos</span><span class="p">[</span><span class="n">trabajos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">==</span><span class="n">cc</span><span class="p">][</span><span class="s1">&#39;Cargo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Senador&#39;, &#39;Influencer&#39;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="non-relational-databases">
<h2>Non-relational databases<a class="headerlink" href="#non-relational-databases" title="Permalink to this headline">#</a></h2>
<p>Listas de diccionarios anidados con una esquema de datos definido</p>
<p><img alt="img" src="https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/material/figures/personajes.svg" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Fecha de Nacimiento&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span> <span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Fecha de Nacimiento&#39;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Fecha de Nacimiento</th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>1966-07-04</td>
      <td>888</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>1952-07-04</td>
      <td>666</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Extract-Transform-Load: ETL</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Edad&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Fecha de Nacimiento&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> 
                        <span class="n">relativedelta</span><span class="p">(</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;now&#39;</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">years</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/usuario/anaconda3/lib/python3.9/site-packages/pandas/core/arrays/datetimes.py:2199: FutureWarning: The parsing of &#39;now&#39; in pd.to_datetime without `utc=True` is deprecated. In a future version, this will match Timestamp(&#39;now&#39;) and Timestamp.now()
  result, tz_parsed = tslib.array_to_datetime(
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trabajos</span><span class="p">[</span><span class="n">trabajos</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">666</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;id&#39;: 666,
  &#39;Inicio&#39;: 2013,
  &#39;Fin&#39;: &#39;2020&#39;,
  &#39;Cargo&#39;: &#39;Senador&#39;,
  &#39;Compañía&#39;: &#39;Senado de la República de Colombia&#39;},
 {&#39;id&#39;: 666,
  &#39;Inicio&#39;: 2020,
  &#39;Fin&#39;: &#39;&#39;,
  &#39;Cargo&#39;: &#39;Influencer&#39;,
  &#39;Compañía&#39;: &#39;Twitter&#39;}]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Fecha de Nacimiento</th>
      <th>id</th>
      <th>Edad</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>1966-07-04</td>
      <td>888</td>
      <td>55</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>1952-07-04</td>
      <td>666</td>
      <td>69</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    888
1    666
Name: id, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;Trabajos&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">personas</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span>  <span class="n">trabajos</span><span class="p">[</span><span class="n">trabajos</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">i</span>
                                                             <span class="p">][[</span><span class="s1">&#39;Inicio&#39;</span><span class="p">,</span><span class="s1">&#39;Fin&#39;</span><span class="p">,</span><span class="s1">&#39;Cargo&#39;</span><span class="p">,</span><span class="s1">&#39;Compañía&#39;</span><span class="p">]</span>
                                                              <span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Fecha de Nacimiento</th>
      <th>id</th>
      <th>Edad</th>
      <th>Trabajos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>1966-07-04</td>
      <td>888</td>
      <td>55</td>
      <td>[{'Inicio': 2010, 'Fin': '', 'Cargo': 'Arriero...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>1952-07-04</td>
      <td>666</td>
      <td>69</td>
      <td>[{'Inicio': 2013, 'Fin': '2020', 'Cargo': 'Sen...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personajes</span><span class="o">=</span><span class="n">personas</span><span class="p">[[</span><span class="s1">&#39;Nombre&#39;</span><span class="p">,</span><span class="s1">&#39;Edad&#39;</span><span class="p">,</span><span class="s1">&#39;Trabajos&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personajes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Trabajos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Juan Valdez</td>
      <td>55</td>
      <td>[{'Inicio': 2010, 'Fin': '', 'Cargo': 'Arriero...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Álvaro Uribe Vélez</td>
      <td>69</td>
      <td>[{'Inicio': 2013, 'Fin': '2020', 'Cargo': 'Sen...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personajes</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;Nombre&#39;: &#39;Juan Valdez&#39;,
  &#39;Edad&#39;: 55,
  &#39;Trabajos&#39;: [{&#39;Inicio&#39;: 2010,
    &#39;Fin&#39;: &#39;&#39;,
    &#39;Cargo&#39;: &#39;Arriero&#39;,
    &#39;Compañía&#39;: &#39;Café de Colombia&#39;}]},
 {&#39;Nombre&#39;: &#39;Álvaro Uribe Vélez&#39;,
  &#39;Edad&#39;: 69,
  &#39;Trabajos&#39;: [{&#39;Inicio&#39;: 2013,
    &#39;Fin&#39;: &#39;2020&#39;,
    &#39;Cargo&#39;: &#39;Senador&#39;,
    &#39;Compañía&#39;: &#39;Senado de la República de Colombia&#39;},
   {&#39;Inicio&#39;: 2020, &#39;Fin&#39;: &#39;&#39;, &#39;Cargo&#39;: &#39;Influencer&#39;, &#39;Compañía&#39;: &#39;Twitter&#39;}]}]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">JSON</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">JSON</span><span class="p">(</span> <span class="n">personajes</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;IPython.core.display.JSON object&gt;
</pre></div>
</div>
</div>
</div>
<section id="actividad">
<h3>Actividad<a class="headerlink" href="#actividad" title="Permalink to this headline">#</a></h3>
<p>Obtenga el último trabajo de Álvaro Uribe Vélez</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">personajes</span><span class="p">[</span><span class="n">personajes</span><span class="p">[</span><span class="s1">&#39;Nombre&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Álvaro Uribe Vélez&#39;</span>
          <span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Trabajos&#39;</span>
          <span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Cargo&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Fin&#39;</span><span class="p">)]</span>
          <span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Influencer&#39;
</pre></div>
</div>
</div>
</div>
<p>We have shown that the simple two dimensional spreadsheets where each cell values is a simple type like string, integer, or float, can be represented as a dictionary of lists values or a list of dictionary column-value assignment.</p>
<p>We can go further and allow to store in the value itself a more general data structure, like nested lists and dictionaries. This allows advanced data-analysis when the <code class="docutils literal notranslate"><span class="pre">apply</span></code> methos is used to operate inside the nested lists or dictionaries.</p>
<p>See for example:</p>
</section>
</section>
<section id="world-wide-web">
<h2>World wide web<a class="headerlink" href="#world-wide-web" title="Permalink to this headline">#</a></h2>
<p>There are really three kinds of web</p>
<ul class="simple">
<li><p>The normal web,</p></li>
<li><p>The deep web,</p></li>
<li><p><em>The machine web</em>. The web for machine readable responses. It is served in <code class="docutils literal notranslate"><span class="pre">JSON</span></code> or <code class="docutils literal notranslate"><span class="pre">XML</span></code>  formats, which preserve programming objects.</p></li>
</ul>
<section id="normal-web">
<h3>Normal web<a class="headerlink" href="#normal-web" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>COVID-19 pandemic</th>
      <th>COVID-19 pandemic.1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Disease</td>
      <td>COVID-19</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Virus strain</td>
      <td>SARS-CoV-2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Source</td>
      <td>Probably bats, possibly via pangolins[1][2]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Location</td>
      <td>Worldwide</td>
    </tr>
    <tr>
      <th>5</th>
      <td>First outbreak</td>
      <td>Mainland China[3]</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Index case</td>
      <td>Wuhan, Hubei, China.mw-parser-output .geo-default,.mw-parser-output .geo-dms,.mw-parser-output .geo-dec{display:inline}.mw-parser-output .geo-nondefault,.mw-parser-output .geo-multi-punct{display:...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Date</td>
      <td>1 December 2019[3] – present(1 year, 3 months, 3 weeks and 3 days)</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Confirmed cases</td>
      <td>124,971,776[4]</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Active cases</td>
      <td>51,331,455[4]</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Recovered</td>
      <td>70,893,740[4]</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Deaths</td>
      <td>2,746,581[4]</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Territories</td>
      <td>192[4]</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Real world example: microsoft academics
<img alt="img" src="https://docs.microsoft.com/en-us/academic-services/graph/media/erd/entity-relationship-diagram.png" /></p>
</section>
<section id="machine-web">
<h3>Machine web<a class="headerlink" href="#machine-web" title="Permalink to this headline">#</a></h3>
<p>For example, consider the following normal web page:</p>
<p>https://inspirehep.net/literature?q=doi:10.1103/PhysRevLett.122.132001</p>
<p>about a Scientific paper with people from the University of Antioquia. A <em>machine web</em> version can be easily obtained in JSON just by attaching the extra parameter <code class="docutils literal notranslate"><span class="pre">&amp;of=recjson</span></code>, and direcly loaded from Pandas, which works like a <em>browser for the third web</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;https://inspirehep.net/api/literature?q=doi:10.1103/PhysRevLett.122.132001&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hits</th>
      <th>links</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>hits</th>
      <td>[{'metadata': {'report_numbers': [{'value': 'C...</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>total</th>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>self</th>
      <td>NaN</td>
      <td>https://inspirehep.net/api/literature/?q=doi%3...</td>
    </tr>
    <tr>
      <th>bibtex</th>
      <td>NaN</td>
      <td>https://inspirehep.net/api/literature/?q=doi%3...</td>
    </tr>
    <tr>
      <th>latex-eu</th>
      <td>NaN</td>
      <td>https://inspirehep.net/api/literature/?q=doi%3...</td>
    </tr>
    <tr>
      <th>latex-us</th>
      <td>NaN</td>
      <td>https://inspirehep.net/api/literature/?q=doi%3...</td>
    </tr>
    <tr>
      <th>json</th>
      <td>NaN</td>
      <td>https://inspirehep.net/api/literature/?q=doi%3...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can use all the previous methods to extract the authors from <code class="docutils literal notranslate"><span class="pre">'Antioquia</span> <span class="pre">U.'</span></code>:</p>
<p>Note: For a dictionary, <code class="docutils literal notranslate"><span class="pre">d</span></code> is safer to use <code class="docutils literal notranslate"><span class="pre">d.get('key')</span></code> instead of just <code class="docutils literal notranslate"><span class="pre">d['key']</span></code> to obtain some <code class="docutils literal notranslate"><span class="pre">key</span></code>, because not error is generated if the requested <code class="docutils literal notranslate"><span class="pre">key</span></code> does not exists at all</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;hits&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="nb">list</span><span class="p">))][</span><span class="s1">&#39;hits&#39;</span> <span class="c1"># extract cell with list</span>
            <span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span> <span class="c1"># metadata of article</span>
            <span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span> <span class="c1">#get the matched article dictionary</span>
            <span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="s1">&#39;authors&#39;</span> <span class="c1"># get list of authors → l</span>
            <span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="p">[</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;first_name&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;last_name&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">l</span>  <span class="c1">#author is a dictionary → d</span>
                               <span class="c1">#d.get(&#39;affiliations&#39;) is a list  of dictionaries → dd                               </span>
                               <span class="k">if</span> <span class="s1">&#39;Antioquia U.&#39;</span> <span class="ow">in</span> <span class="p">[</span><span class="n">dd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dd</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;affiliations&#39;</span><span class="p">)]</span> 
                              <span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>hits    [Jhovanny Mejia Guisao, José David Ruiz Alvarez]
Name: hits, dtype: object
</pre></div>
</div>
</div>
</div>
<p>or</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Authors</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;hits&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="nb">list</span><span class="p">))][</span><span class="s1">&#39;hits&#39;</span> <span class="c1"># extract cell with list</span>
            <span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">articles</span><span class="p">:</span> <span class="p">[</span><span class="n">article</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">article</span> <span class="ow">in</span> <span class="n">articles</span><span class="p">]</span> <span class="c1"># metadata of article</span>
            <span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span> <span class="c1">#get the matched article dictionary</span>
            <span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="s1">&#39;authors&#39;</span> <span class="c1"># get list of authors → l</span>
            <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">names</span><span class="o">=</span><span class="n">Authors</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">authors</span><span class="p">:</span> <span class="p">[</span> <span class="n">author</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;full_name&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">authors</span>  <span class="c1">#author is a dictionary</span>
                               <span class="c1">#author.get(&#39;affiliations&#39;) is a list  of dictionaries → affiliation                              </span>
                               <span class="k">if</span> <span class="s1">&#39;Antioquia U.&#39;</span> <span class="ow">in</span> <span class="p">[</span><span class="n">affiliation</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">affiliation</span> <span class="ow">in</span> <span class="n">author</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;affiliations&#39;</span><span class="p">)]</span> 
                              <span class="p">])</span>
<span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Mejia Guisao, Jhovanny&#39;, &#39;Ruiz Alvarez, José David&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can see that the column <code class="docutils literal notranslate"><span class="pre">authors</span></code> is quite nested: Is a list of dictionaries with the full information for each one of the authors of the article.</p>
<p><strong>Activity</strong>: Check that the lenght of the auhors list coincides with the <code class="docutils literal notranslate"><span class="pre">number_of_authors</span></code></p>
<!-- df.authors.apply(len),df.number_of_authors.values --><p>For further details see: https://github.com/restrepo/inspire/blob/master/gfif.ipynb</p>
<p><strong>Activity</strong>: Repeat the same activity but using directly the JSON file, obtained with <code class="docutils literal notranslate"><span class="pre">requests</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#See: https://github.com/inspirehep/rest-api-doc/issues/4#issuecomment-645218074</span>
<span class="kn">import</span> <span class="nn">requests</span>                                                                                                                                                      
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://inspirehep.net/api/doi/10.1103/PhysRevLett.122.132001&#39;</span><span class="p">)</span>                                                                              
<span class="n">authors</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;authors&#39;</span><span class="p">]</span>                                                                                                                     
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">author</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;full_name&#39;</span><span class="p">)</span>
              <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">authors</span> 
               <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">aff</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Antioquia U.&#39;</span> <span class="k">for</span> <span class="n">aff</span> <span class="ow">in</span> <span class="n">author</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;affiliations&#39;</span><span class="p">))]</span>
<span class="n">names</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Mejia Guisao, Jhovanny&#39;, &#39;Ruiz Alvarez, José David&#39;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas_Cheat_Sheet PDF</a></p>
</section>
<section id="activities">
<h2>ACTIVITIES<a class="headerlink" href="#activities" title="Permalink to this headline">#</a></h2>
<p>See:</p>
<ul class="simple">
<li><p>https://github.com/ajcr/100-pandas-puzzles</p></li>
<li><p>https://github.com/guipsamora/pandas_exercises</p></li>
<li><p>https://rramosp.github.io/ai4eng.v1/content/NOTES%2002.04%20-%20PANDAS.html</p></li>
</ul>
</section>
<section id="final-remarks">
<h2>Final remarks<a class="headerlink" href="#final-remarks" title="Permalink to this headline">#</a></h2>
<p>With basic scripting and Pandas we already have a solid environment to analyse data. We introduce the other libraries motivated with the extending the capabilities of Pandas</p>
</section>
<section id="appendix">
<h2>Appendix<a class="headerlink" href="#appendix" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/restrepo/ComputationalMethods/master/material/ChatGPT/Pandas.html">Summary with ChatGPT</a></p>
<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=f91b818d-f536-4b8f-81de-61752e0979b7' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./material"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="scientific-libraries.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Scientific Libraries with Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="matplotlib.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Matplotlib</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Diego Restrepo (UdeA)<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>